(this.webpackJsonpsushee=this.webpackJsonpsushee||[]).push([[0],{15:function(e,n,t){},17:function(e,n,t){"use strict";t.r(n);var s=t(1),c=t.n(s),a=t(9),r=t.n(a),i=t(5),d=(t(15),t(2)),o=t(3),l=t(10),u=t(0),j=c.a.createContext();function b(e){var n=e.children,t=Object(s.useState)((function(){var e=localStorage.getItem("session");return JSON.parse(e)||[]})),c=Object(o.a)(t,2),a=c[0],r=c[1];return Object(u.jsx)(j.Provider,{value:{userList:a,setUserList:r,addNewUser:function(e){if(-1===a.findIndex((function(n){return n.name===e}))){var n={pos:a.length,name:e,dishes:[]};r((function(e){return[].concat(Object(l.a)(e),[n])}))}return"existing"},removeUser:function(e){a.findIndex((function(n){return n.name===e})),r((function(n){return n.filter((function(n){return n.name!==e}))}))},addQnt:function(e,n){var t=a.findIndex((function(n){return n.name===e})),s=a[t].dishes.findIndex((function(e){return e.code===n})),c=a[t];c.dishes[s].qnt=c.dishes[s].qnt+1;var i=a.slice();i[t]=c,r(i)},subQnt:function(e,n){var t=a.findIndex((function(n){return n.name===e})),s=a[t].dishes.findIndex((function(e){return e.code===n})),c=a[t];c.dishes[s].qnt=c.dishes[s].qnt-1,0===c.dishes[s].qnt&&c.dishes.splice(s,1);var i=a.slice();i[t]=c,r(i)},addDish:function(e,n){var t=a.findIndex((function(n){return n.name===e}));if(-1!==a[t].dishes.findIndex((function(e){return e.code===n})))return"existing";var s=a[t];s.dishes.push({code:n,qnt:1});var c=a.slice();c[t]=s,r(c)},getListone:function(){for(var e={},n=0;n<a.length;n++)for(var t=a[n].dishes,s=0;s<t.length;s++){var c=a[n].dishes[s].code,r=a[n].dishes[s].qnt;e[c]=e[c]?e[c]+=r:e[c]=r}var i=[];return Object.keys(e).forEach((function(n){return i.push({code:n,qnt:e[n]})})),i}},children:n})}var h=t.p+"static/media/face.bae60e02.svg";var m=function(e){var n=e.user,t=n.dishes.map((function(e){return Object(u.jsxs)("span",{className:"dish-el",children:[e.code,e.qnt>1?Object(u.jsxs)("span",{children:[" x",e.qnt]}):null]},e.code)})),s="/".concat(n.name);return Object(u.jsxs)(i.b,{to:s,className:"UserCard",children:[Object(u.jsxs)("div",{className:"avatar",children:[Object(u.jsx)("img",{className:"avatar-img",src:h,alt:"avatar"})," "]}),Object(u.jsxs)("div",{className:"UserCard-info",children:[Object(u.jsx)("h3",{className:"info-name",children:n.name}),Object(u.jsx)("div",{className:"info-dish-container",children:t})]})]})};function O(){var e=Object(s.useContext)(j).addNewUser,n=Object(s.useState)(!1),t=Object(o.a)(n,2),a=t[0],r=t[1],i=c.a.createRef();var d=a?Object(u.jsxs)("div",{className:"newCard last",children:[Object(u.jsx)("input",{type:"text",ref:i,placeholder:"User name"}),Object(u.jsx)("span",{className:"icon-cancel",onClick:function(){return r(!1)},children:"x"}),Object(u.jsx)("span",{className:"icon-confirm",onClick:function(){var n=i.current.value;if(n){var t=e(n);i.current.value="","existing"===t&&(i.current.placeholder="Name already in use"),r(!1)}},children:"v"})]}):Object(u.jsx)("div",{className:"button-add last",onClick:function(){return r(!0)},children:"+ New mangione"});return Object(u.jsx)(u.Fragment,{children:d})}function x(){var e=Object(s.useContext)(j),n=e.userList,t=e.setUserList,c=Object(s.useState)(!1),a=Object(o.a)(c,2),r=a[0],i=a[1],d=Object(s.useState)(!1),l=Object(o.a)(d,2),b=l[0],h=l[1];console.log(n);var x=n.map((function(e){return Object(u.jsx)(m,{user:e},e.name)}));return Object(u.jsxs)("div",{className:"UserList",children:[Object(u.jsx)("div",{className:"header",children:Object(u.jsxs)("div",{className:"commands",children:[Object(u.jsx)("span",{className:"button button-delete",onClick:function(){r?(t((function(e){return[]})),i(!1)):i(!0)},children:r?"U sure bruh?":"Delete All"}),Object(u.jsx)("span",{className:"button button-save",onClick:function(){h((function(e){return!e}))},children:b?"Not yet available":"Save"})]})}),x,Object(u.jsx)(O,{})]})}var v=function(e,n){var t=function(t){e.current&&!e.current.contains(t.target)&&(console.log("triggering outside click"),n())};Object(s.useEffect)((function(){return document.addEventListener("click",t),function(){document.removeEventListener("click",t)}}))};function f(e){var n=e.data,t=n.code,c=n.qnt,a=e.user,r=Object(s.useState)(!1),i=Object(o.a)(r,2),d=i[0],l=i[1],b=Object(s.useContext)(j),h=b.addQnt,m=b.subQnt,O=Object(s.useRef)();return v(O,(function(){return l(!1)})),Object(u.jsxs)("div",{className:"dishCard",ref:O,onClick:function(){l(!0)},children:[Object(u.jsx)("div",{className:"dish code",children:t}),Object(u.jsx)("span",{className:"x",children:"x"}),Object(u.jsxs)("div",{className:"qnt",children:[d?Object(u.jsx)("div",{className:"btn-minus",children:Object(u.jsx)("span",{onClick:function(){return m(a,t)},children:"-"})}):null,Object(u.jsx)("div",{className:"dish",children:c}),d?Object(u.jsx)("div",{className:"btn-plus",children:Object(u.jsx)("span",{onClick:function(){return h(a,t)},children:"+"})}):null]})]})}function p(e){var n=Object(s.useContext)(j).addDish,t=Object(s.useState)(!1),a=Object(o.a)(t,2),r=a[0],i=a[1],d=e.user,l=c.a.createRef();var b=r?Object(u.jsxs)("div",{className:"newCard",children:[Object(u.jsx)("input",{type:"text",ref:l,placeholder:"Dish code"}),Object(u.jsx)("span",{className:"icon-cancel",onClick:function(){return i(!1)},children:"x"}),Object(u.jsx)("span",{className:"icon-confirm",onClick:function(){var e=l.current.value;if(e=e.toUpperCase()){var t=n(d,e);l.current.value="","existing"===t?l.current.placeholder="Already in list":i(!1)}},children:"v"})]}):Object(u.jsx)("div",{className:"button-add add-dish",onClick:function(){return i(!0)},children:"+"});return Object(u.jsx)(u.Fragment,{children:b})}function A(){var e=Object(d.g)().userName,n=Object(s.useContext)(j),t=n.userList,c=n.removeUser;console.log(t);var a=t.find((function(n){return n.name===e})),r=a.dishes.map((function(n){return Object(u.jsx)(f,{user:e,data:n})}));return Object(u.jsxs)("div",{className:"UserPage",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsxs)("div",{className:"commands",children:[Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("span",{className:"button button-delete",onClick:function(){c(a.name)},children:"delete"})}),Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("span",{className:"button button-back",children:"back"})})]}),Object(u.jsxs)("div",{className:"user-info-container",children:[Object(u.jsx)("div",{className:"info-avatar",children:Object(u.jsx)("img",{className:"avatar-img",src:"data:image/png;base64,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",alt:"avatar"})}),Object(u.jsx)("div",{className:"info-name",children:a.name})]})]}),Object(u.jsx)("div",{className:"dishList",children:r}),Object(u.jsx)(p,{user:e})]})}function N(){var e=(0,Object(s.useContext)(j).getListone)();console.log(e);var n=e.map((function(e){return Object(u.jsxs)("div",{className:"dishCard",children:[Object(u.jsx)("span",{className:"dish code",children:e.code}),Object(u.jsx)("span",{className:"x",children:"x"}),Object(u.jsx)("span",{className:"dish qnt",children:e.qnt})]})}));return Object(u.jsxs)("div",{className:"Listone",children:[Object(u.jsx)("div",{className:"listone-header",children:Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("span",{className:"button button-back",children:"back"})})}),Object(u.jsx)("div",{className:"listone-container",children:n})]})}function g(){return Object(u.jsx)("div",{className:"Footer",children:Object(u.jsx)(i.b,{to:"/listone",className:"footer-btn",children:"Listone"})})}var C=function(){var e=Object(s.useContext)(j).userList;return Object(s.useEffect)((function(){return localStorage.setItem("session",JSON.stringify(e))}),[e]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("div",{className:"body",children:Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{exact:!0,path:"/",element:Object(u.jsx)(x,{})}),Object(u.jsx)(d.a,{path:"/:userName",element:Object(u.jsx)(A,{})}),Object(u.jsx)(d.a,{path:"/listone",element:Object(u.jsx)(N,{})})]})}),Object(u.jsx)(g,{})]})};r.a.render(Object(u.jsx)(b,{children:Object(u.jsx)(i.a,{basename:window.location.pathname||"",children:Object(u.jsx)(C,{})})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.9ed3aeb2.chunk.js.map